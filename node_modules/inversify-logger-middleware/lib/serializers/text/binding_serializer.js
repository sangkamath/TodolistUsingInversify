"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var inversify_1 = require("inversify");
var text_serializer_utils_1 = require("./text_serializer_utils");
function serializeBinding(textEntry, depth, binding) {
    var indentation = text_serializer_utils_1.getIndentationForDepth(depth);
    var propertyLogger = text_serializer_utils_1.makePropertyLogger(indentation);
    var props = [
        "type", "serviceIdentifier", "implementationType",
        "activated", "cache", "constraint", "dynamicValue",
        "factory", "onActivation", "provider", "scope"
    ];
    var _b = binding;
    props.forEach(function (prop) {
        if (_b[prop] !== undefined) {
            var val = _b[prop];
            switch (prop) {
                case "implementationType":
                    val = _b[prop] && _b[prop].name;
                    break;
                case "serviceIdentifier":
                    val = inversify_1.getServiceIdentifierAsString(_b[prop]);
                    break;
                default:
                    val = _b[prop];
            }
            textEntry = propertyLogger(textEntry, 3, prop, val);
        }
    });
    return textEntry;
}
exports.default = serializeBinding;
