{"version":3,"file":"/Users/sangeethak/Downloads/inversify-express-example-master/MongoDB/utils/mongodb/connection.ts","sources":["/Users/sangeethak/Downloads/inversify-express-example-master/MongoDB/utils/mongodb/connection.ts"],"names":[],"mappings":";;AAAA,mCAA0C;AAE1C,IAAM,OAAO,GAAG,2BAA2B,CAAC;AAC5C,IAAM,MAAM,GAAG,2BAA2B,CAAC;AAE3C;IAAA;IAqBA,CAAC;IAjBe,+BAAa,GAA3B,UAA4B,MAA4B;QAAxD,iBAQC;QAPC,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,EAAM;gBACzB,OAAO,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAEc,yBAAO,GAAtB,UAAuB,MAA+B;QAAtD,iBAMC;QALC,qBAAW,CAAC,OAAO,CAAC,OAAO,EAAE,UAAC,GAAG,EAAE,MAAM;YACvC,KAAI,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAC5B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,OAAO,MAAM,CAAC,GAAG,EAAE,KAAI,CAAC,EAAE,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAnBc,6BAAW,GAAY,KAAK,CAAC;IAoB9C,wBAAC;CAAA,AArBD,IAqBC;AArBY,8CAAiB","sourcesContent":["import { Db, MongoClient } from 'mongodb';\n\nconst connStr = 'mongodb://localhost:27017';\nconst dbName = \"inversify-express-example\";\n\nexport class MongoDBConnection {\n  private static isConnected: boolean = false;\n  private static db: Db;\n\n  public static getConnection(result: (connection) => void) {\n    if (this.isConnected) {\n      return result(this.db);\n    } else {\n      this.connect((error, db: Db) => {\n        return result(this.db);\n      });\n    }\n  }\n\n  private static connect(result: (error, db: Db) => void) {\n    MongoClient.connect(connStr, (err, client) => {\n      this.db = client.db(dbName);\n      this.isConnected = true;\n      return result(err, this.db);\n    });\n  }\n}\n"]}